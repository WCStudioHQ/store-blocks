(()=>{"use strict";var e,t={599:(e,t,o)=>{const r=window.wp.blocks,a=window.wp.i18n,l=window.wp.blockEditor,n=window.wp.components,s=window.wp.element,i=window.wp.apiFetch;var c=o.n(i);const d=window.ReactJSXRuntime,p=JSON.parse('{"UU":"store-blocks/product-table"}');(0,r.registerBlockType)(p.UU,{edit:function({attributes:e,setAttributes:t}){const o=(0,l.useBlockProps)(),[r,i]=(0,s.useState)([]),[p,h]=(0,s.useState)([]);return(0,s.useEffect)((()=>{c()({path:"/wp/v2/product_cat?per_page=100"}).then((e=>{const t=e.map((e=>({label:e.name,value:e.id})));i(t)})).catch((e=>console.error("Error fetching categories:",e)))}),[]),(0,s.useEffect)((()=>{const{order:t,orderBy:o,perPage:r,categoryId:a}=e,l=["date","id","title","price","popularity","rating"].includes(o)?o:"date",n=a?`/wc/v3/products?category=${a}&orderby=${l}&order=${t}&per_page=${r}`:`/wc/v3/products?orderby=${l}&order=${t}&per_page=${r}`;c()({path:n,method:"GET"}).then((e=>{h(e)})).catch((e=>{console.error("Error fetching products:",e)}))}),[e.order,e.orderBy,e.perPage,e.categoryId]),(0,d.jsxs)("div",{children:[(0,d.jsx)(l.InspectorControls,{children:(0,d.jsx)(n.TabPanel,{className:"product-table-tabs",activeClass:"is-active",tabs:[{name:"settings",title:(0,a.__)("Settings","store-blocks"),className:"tab-settings"},{name:"style",title:(0,a.__)("Style","store-blocks"),className:"tab-style"}],children:o=>"settings"===o.name?(0,d.jsx)(n.Panel,{header:"Product Table Settings",children:(0,d.jsxs)(n.PanelBody,{children:[(0,d.jsx)(n.SelectControl,{label:"Category",value:e.categoryId,options:[{label:"All Categories",value:""},...r],onChange:e=>t({categoryId:e})}),(0,d.jsx)(n.RangeControl,{label:"Product Per Page",value:e.perPage,onChange:e=>t({perPage:e}),min:1,max:100,step:1}),(0,d.jsx)(n.SelectControl,{label:"Order by",value:e.orderBy,options:[{label:"ID",value:"id"},{label:"Date",value:"date"},{label:"Title",value:"title"},{label:"Price",value:"price"},{label:"Popularity",value:"popularity"},{label:"Rating",value:"rating"}],onChange:e=>t({orderBy:e})}),(0,d.jsx)(n.SelectControl,{label:"Order",value:e.order,options:[{label:"Asc",value:"asc"},{label:"Desc",value:"desc"}],onChange:e=>t({order:e})})]})}):"style"===o.name?(0,d.jsx)(n.Panel,{header:"Table Caption Settings",children:(0,d.jsxs)(n.PanelBody,{children:[(0,d.jsx)(n.ToggleControl,{label:"Show Caption",checked:e.showTableCaption,onChange:e=>t({showTableCaption:e})}),e.showTableCaption&&(0,d.jsxs)("div",{children:[(0,d.jsx)(n.TextControl,{label:"Caption Text",value:e.tableCaption,onChange:e=>t({tableCaption:e}),placeholder:"Enter caption text"}),(0,d.jsx)("p",{style:{padding:"4px 0px"},children:(0,a.__)("Font Size","store-blocks")}),(0,d.jsx)(n.FontSizePicker,{value:e.captionFontSize,onChange:e=>t({captionFontSize:e})}),(0,d.jsx)("p",{style:{padding:"10px 0px"},children:(0,a.__)("Color","store-blocks")}),(0,d.jsx)(n.ColorPicker,{label:"Caption Text Color",color:e.captionColor,onChangeComplete:e=>t({captionColor:e.hex}),disableAlpha:!0}),(0,d.jsx)(n.__experimentalUnitControl,{label:(0,a.__)("Caption Spacing","store-blocks"),value:e.captionSpacing,onChange:e=>t({captionSpacing:e}),units:["px","em","rem"].map((e=>({value:e,label:e}))),help:(0,a.__)("Set the spacing between caption and table","store-blocks")})]})]})}):void 0})}),(0,d.jsx)("div",{...o,children:p.length>0?(0,d.jsxs)("table",{className:"store-blocks-product-table",children:[e.showTableCaption&&(0,d.jsx)("caption",{style:{fontSize:e.captionFontSize,color:e.captionColor,marginBottom:e.captionSpacing},children:e.tableCaption}),(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:(0,a.__)("Image","store-blocks")}),(0,d.jsx)("th",{children:(0,a.__)("Title","store-blocks")}),(0,d.jsx)("th",{children:(0,a.__)("Category","store-blocks")}),(0,d.jsx)("th",{children:(0,a.__)("Price","store-blocks")}),(0,d.jsx)("th",{children:(0,a.__)("Quantity","store-blocks")})]})}),(0,d.jsx)("tbody",{children:p.map((e=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)("img",{src:e?.images[0]?.src,alt:e?.name||"Product"})}),(0,d.jsx)("td",{children:e?.name}),(0,d.jsx)("td",{children:e.categories?.map((e=>e.name)).join(", ")||"N/A"}),(0,d.jsx)("td",{dangerouslySetInnerHTML:{__html:e.price_html||""}}),(0,d.jsx)("td",{children:e.stock_quantity||1})]},e.id)))})]}):(0,d.jsx)("p",{children:(0,a.__)("No products found.","store-blocks")})})]})},save:function(){return null}})}},o={};function r(e){var a=o[e];if(void 0!==a)return a.exports;var l=o[e]={exports:{}};return t[e](l,l.exports,r),l.exports}r.m=t,e=[],r.O=(t,o,a,l)=>{if(!o){var n=1/0;for(d=0;d<e.length;d++){for(var[o,a,l]=e[d],s=!0,i=0;i<o.length;i++)(!1&l||n>=l)&&Object.keys(r.O).every((e=>r.O[e](o[i])))?o.splice(i--,1):(s=!1,l<n&&(n=l));if(s){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[o,a,l]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={686:0,130:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var a,l,[n,s,i]=o,c=0;if(n.some((t=>0!==e[t]))){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(i)var d=i(r)}for(t&&t(o);c<n.length;c++)l=n[c],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(d)},o=globalThis.webpackChunkstore_blocks=globalThis.webpackChunkstore_blocks||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var a=r.O(void 0,[130],(()=>r(599)));a=r.O(a)})();