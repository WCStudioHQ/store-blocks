(()=>{"use strict";var e,r={599:(e,r,t)=>{const o=window.wp.blocks,l=window.wp.i18n,a=window.wp.blockEditor,n=window.wp.components,s=window.wp.element,c=window.wp.apiFetch;var i=t.n(c);const d=window.ReactJSXRuntime,p=JSON.parse('{"UU":"store-blocks/product-table"}');(0,o.registerBlockType)(p.UU,{edit:function({attributes:e,setAttributes:r}){const t=(0,a.useBlockProps)(),[o,c]=(0,s.useState)([]),[p,u]=(0,s.useState)([]);return(0,s.useEffect)((()=>{i()({path:"/wp/v2/product_cat?per_page=100"}).then((e=>{const r=e.map((e=>({label:e.name,value:e.id})));c(r)})).catch((e=>console.error("Error fetching categories:",e)))}),[]),(0,s.useEffect)((()=>{const{orderBy:r,perPage:t,categoryId:o}=e,l=(["date","id","title","price","popularity","rating"].includes(r),o?`/wc/v3/products?category=${o}&orderby=${r}&per_page=${t}`:`/wc/v3/products?orderby=${r}&per_page=${t}`);i()({path:l,method:"GET"}).then((e=>{u(e)})).catch((e=>{console.error("Error fetching products:",e)}))}),[e.orderBy,e.perPage,e.categoryId]),console.log(p),(0,d.jsxs)("div",{children:[(0,d.jsx)(a.InspectorControls,{children:(0,d.jsx)(n.Panel,{header:"Product Table Settings",children:(0,d.jsxs)(n.PanelBody,{children:[(0,d.jsx)(n.SelectControl,{label:"Category",value:e.categoryId,options:[{label:"All Categories",value:""},...o],onChange:e=>r({categoryId:e})}),(0,d.jsx)(n.RangeControl,{label:"Product Per Page",value:e.perPage,onChange:e=>r({perPage:e}),min:1,max:30,step:1}),(0,d.jsx)(n.SelectControl,{label:"Order by",value:e.orderBy,options:[{label:"ID",value:"id"},{label:"Date",value:"date"},{label:"Title",value:"title"},{label:"Price",value:"price"},{label:"Popularity",value:"popularity"},{label:"Rating",value:"rating"}],onChange:e=>r({orderBy:e})})]})})}),(0,d.jsx)("div",{...t,children:(0,d.jsxs)("table",{className:"store-blocks-product-table",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:(0,l.__)("Image","store-blocks")}),(0,d.jsx)("th",{children:(0,l.__)("Title","store-blocks")}),(0,d.jsx)("th",{children:(0,l.__)("Category","store-blocks")}),(0,d.jsx)("th",{children:(0,l.__)("Price","store-blocks")}),(0,d.jsx)("th",{children:(0,l.__)("Quantity","store-blocks")})]})}),(0,d.jsx)("tbody",{children:p.length>0&&p.map((e=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:(0,d.jsx)("img",{src:e?.images[0]?.src,alt:e?.name||"Product"})}),(0,d.jsx)("td",{children:e?.name}),(0,d.jsx)("td",{children:e.categories?.map((e=>e.name)).join(", ")||"N/A"}),(0,d.jsx)("td",{dangerouslySetInnerHTML:{__html:e.price_html||""}}),(0,d.jsx)("td",{children:e.stock_quantity||1})]},e.id)))})]})})]})},save:function(){return null}})}},t={};function o(e){var l=t[e];if(void 0!==l)return l.exports;var a=t[e]={exports:{}};return r[e](a,a.exports,o),a.exports}o.m=r,e=[],o.O=(r,t,l,a)=>{if(!t){var n=1/0;for(d=0;d<e.length;d++){for(var[t,l,a]=e[d],s=!0,c=0;c<t.length;c++)(!1&a||n>=a)&&Object.keys(o.O).every((e=>o.O[e](t[c])))?t.splice(c--,1):(s=!1,a<n&&(n=a));if(s){e.splice(d--,1);var i=l();void 0!==i&&(r=i)}}return r}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[t,l,a]},o.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return o.d(r,{a:r}),r},o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={686:0,130:0};o.O.j=r=>0===e[r];var r=(r,t)=>{var l,a,[n,s,c]=t,i=0;if(n.some((r=>0!==e[r]))){for(l in s)o.o(s,l)&&(o.m[l]=s[l]);if(c)var d=c(o)}for(r&&r(t);i<n.length;i++)a=n[i],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(d)},t=globalThis.webpackChunktest_block=globalThis.webpackChunktest_block||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})();var l=o.O(void 0,[130],(()=>o(599)));l=o.O(l)})();